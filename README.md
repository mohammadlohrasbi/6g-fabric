# Hyperledger Fabric Network Setup

This project sets up a Hyperledger Fabric network with 10 organizations (Org1 to Org10), 19 channels, and 85 chaincodes (10 geo-based and 75 public) per channel. It includes scripts for network configuration, chaincode deployment, and performance testing using Caliper and Tape.

## Prerequisites
- Docker and Docker Compose
- Hyperledger Fabric binaries (version 2.2 or later)
- Go (for chaincode compilation)
- Node.js and npm (for Caliper)
- Tape (for performance testing)
- `cryptogen` and `configtxgen` tools

## Directory Structure
- `crypto-config/`: Cryptographic materials generated by `cryptogen`
- `config/`: Configuration files (`core.yaml`, `connection-orgX.json`, `benchmark.yaml`, `tape-config.yaml`)
- `chaincode/`: Chaincode directories (`geo_cc1` to `geo_cc10`, `public_cc1` to `public_cc75`)
- `docker-compose.yaml`: Docker Compose configuration for network services
- `configtx.yaml`: Channel and organization configuration
- `networkConfig.yaml`: Network configuration for client connections

## Setup Instructions

1. **Generate Cryptographic Materials**
   ```bash
   cryptogen generate --config=./crypto-config.yaml
   ```

2. **Generate core.yaml Files**
   ```bash
   chmod +x generateCoreYamls.sh
   ./generateCoreYamls.sh
   ```

3. **Generate Connection Profiles**
   ```bash
   chmod +x generateConnectionProfiles.sh
   ./generateConnectionProfiles.sh
   ```

4. **Generate Workload Files**
   ```bash
   chmod +x generateWorkloadFiles.sh
   ./generateWorkloadFiles.sh
   ```

5. **Generate Benchmark and Tape Configurations**
   ```bash
   chmod +x generateBenchmarkConfig.sh
   ./generateBenchmarkConfig.sh
   chmod +x generateTapeConfigs.sh
   ./generateTapeConfigs.sh
   ```

6. **Start the Network**
   ```bash
   docker-compose -f docker-compose.yaml up -d
   ```

7. **Setup Channels and Chaincodes**
   ```bash
   chmod +x setup_network.sh
   ./setup_network.sh
   ```

8. **Run Caliper Tests**
   ```bash
   npx caliper launch manager --caliper-workspace . --caliper-networkconfig config/networkConfig.yaml --caliper-benchconfig config/benchmark.yaml
   ```

9. **Run Tape Tests**
   ```bash
   tape --config config/tape-config.yaml
   ```

## Notes
- Chaincodes are located in `chaincode/geo_ccX` and `chaincode/public_ccX` (X from 1 to 10 for geo, 1 to 75 for public).
- Each channel has 85 chaincodes (10 geo-based, 75 public) with `AssignResource` and `QueryResource` functions.
- Ensure all chaincode directories exist and contain valid Go code before running `setup_network.sh`.
- Caliper and Tape configurations are optimized for performance testing with 100 TPS (invoke) and 200 TPS (query).

## Troubleshooting
- If chaincode installation fails, verify that Go chaincode files are correctly placed in `chaincode/` directories.
- Ensure Docker containers are running (`docker ps`) before executing `setup_network.sh`.
- Check logs for errors: `docker logs <container_name>`.

For further customization or additional chaincode logic, modify the chaincode files in `chaincode/` directories.
